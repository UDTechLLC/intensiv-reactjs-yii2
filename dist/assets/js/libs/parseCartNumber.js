jQuery(document).ready(function(){$("input[name=senderCardPart1]").pastehopacross({regexRemove:/[^\d]/g,inputs:$("input[name^=senderCardPart]")}),$("input[name=receiverCardPart1]").pastehopacross({regexRemove:/[^\d]/g,inputs:$("input[name^=receiverCardPart]")}),$(".b_form-cardnumber").length&&$(".b_form-cardnumber").each(function(){var e=parseInt($(this).text().substr(0,1));4==e?$(this).closest(".b_card").addClass("visa"):5==e?$(this).closest(".b_card").addClass("mastercard"):6==e&&$(this).closest(".b_card")}),$("input[name^=senderCardPart]").focusin(function(){$("input[name^=senderCardPart]").addClass("focus"),""==$(this).prev("input[name^=senderCardPart]").val()&&$(this).prev("input[name^=senderCardPart]").focus()}),$("input[name^=senderCardPart]").focusout(function(){$("input[name^=senderCardPart]").removeClass("focus")}),$("input[name^=receiverCardPart]").focusin(function(){$("input[name^=receiverCardPart]").addClass("focus"),""==$(this).prev("input[name^=receiverCardPart]").val()&&$(this).prev("input[name^=receiverCardPart]").focus()}),$("input[name^=receiverCardPart]").focusout(function(){$("input[name^=receiverCardPart]").removeClass("focus")}),$("input[name=amount]").on("input",function(e){""==$("input[name=amount]").val()?($("input[name=amount]").addClass("error"),$(".help-block.amount").addClass("open")):($("input[name=amount]").removeClass("error"),$(".help-block.amount").removeClass("open"))}),$("input[name=cvv]").on("input",function(e){$("input[name=cvv]").val().length>2&&($("input[name=cvv]").removeClass("error"),$(".help-block.cvv").removeClass("open"))}),$("input[name^=senderCardPart]").on("input",function(e){e.preventDefault(),"senderCardPart1"==$(this).attr("name")&&(1==$(this).val().length?4==$(this).val()?$(this).closest(".b_card").addClass("visa").removeClass("maestro").removeClass("mastercard"):5==$(this).val()?$(this).closest(".b_card").addClass("mastercard").removeClass("visa").removeClass("maestro"):6==$(this).val()&&$(this).closest(".b_card").addClass("maestro").removeClass("visa").removeClass("mastercard"):0==$(this).val().length&&$(this).closest(".b_card").removeClass("visa").removeClass("maestro").removeClass("mastercard"));var a=parseInt($(this).attr("maxLength")),r=parseInt($(this).val().length);if(r>=a&&($(this).next("input[name^=senderCardPart]").focus(),"senderCardPart4"==$(this).attr("name")&&r>a)){var t=$(this).val().substr(0,4);$(this).val(t)}r<=0&&$(this).prev("input[name^=senderCardPart]").focus();var s=!0;$("input[name^=senderCardPart]").each(function(){$(this).val().length<4&&(s=!1)}),s&&($("input[name^=senderCardPart]").removeClass("error"),$(".help-block.senderCard").removeClass("open"))}),$("input[name^=receiverCardPart]").on("input",function(e){e.preventDefault(),"receiverCardPart1"==$(this).attr("name")&&(1==$(this).val().length?4==$(this).val()?$(this).closest(".b_card").addClass("visa").removeClass("maestro").removeClass("mastercard"):5==$(this).val()?$(this).closest(".b_card").addClass("mastercard").removeClass("visa").removeClass("maestro"):6==$(this).val()&&$(this).closest(".b_card").addClass("maestro").removeClass("visa").removeClass("mastercard"):0==$(this).val().length&&$(this).closest(".b_card").removeClass("visa").removeClass("maestro").removeClass("mastercard"));var a=parseInt($(this).attr("maxLength")),r=parseInt($(this).val().length);if(r>=a&&($(this).next("input[name^=receiverCardPart]").focus(),"receiverCardPart4"==$(this).attr("name")&&r>a)){var t=$(this).val().substr(0,4);$(this).val(t)}r<=0&&$(this).prev("input[name^=receiverCardPart]").focus();var s=!0;$("input[name^=receiverCardPart]").each(function(){$(this).val().length<4&&(s=!1)}),s&&($("input[name^=receiverCardPart]").removeClass("error"),$(".help-block.receiverCard").removeClass("open"))}),$("input[name=AgreeTerms]").change(function(){$(this).is(":checked")?($(".help-block.agreeTerms").removeClass("open"),$("input[name=AgreeTerms]").parent().removeClass("error"),$("#payment_info input[type=submit]").removeAttr("disabled")):$("#payment_info input[type=submit]").attr("disabled","disabled")}),$("input[name=AgreeTerms]").length&&($("input[name=AgreeTerms]").is(":checked")?$("#payment_info input[type=submit]").removeAttr("disabled"):$("#payment_info input[type=submit]").attr("disabled","disabled"))}),$(document).on("submit","#payment_info",function(e){var a=!1,r=!0;$("input[name^=senderCardPart]").each(function(){$(this).val().length<4&&(a=!0,$("input[name^=senderCardPart]").addClass("error"),$(".help-block.senderCard").addClass("open"),r=!1)}),r&&($("input[name^=senderCardPart]").removeClass("error"),$(".help-block.senderCard").removeClass("open")),r=!0,$("input[name^=receiverCardPart]").each(function(){$(this).val().length<4&&(a=!0,$("input[name^=receiverCardPart]").addClass("error"),$(".help-block.receiverCard").addClass("open"),r=!1)}),r&&($("input[name^=receiverCardPart]").removeClass("error"),$(".help-block.receiverCard").removeClass("open")),r=!0,$(this).find("select").each(function(){""==$(this).val()?(a=!0,$(this).addClass("error")):$(this).removeClass("error")}),""==$("input[name=amount]").val()?(a=!0,$("input[name=amount]").addClass("error"),$(".help-block.amount").addClass("open")):($("input[name=amount]").removeClass("error"),$(".help-block.amount").removeClass("open")),""==$("input[name=cvv]").val()?(a=!0,$("input[name=cvv]").addClass("error"),$(".help-block.cvv").addClass("open")):($("input[name=cvv]").removeClass("error"),$(".help-block.cvv").removeClass("open")),$("input[name=AgreeTerms]").is(":checked")?($(".help-block.agreeTerms").removeClass("open"),$("input[name=AgreeTerms]").parent().removeClass("error")):($(".help-block.agreeTerms").addClass("open"),$("input[name=AgreeTerms]").parent().addClass("error"),a=!0),a?e.preventDefault():($(".button-area").fadeOut(300),$(".checkbox-square").fadeOut(300),setTimeout(function(){$(".loader").addClass("animated").show()},300))}),$(document).on("submit","#approve_info",function(e){$(".button-area").fadeOut(300),setTimeout(function(){$(".loader").addClass("animated").show()},300)}),function(e){jQuery.fn.pastehopacross=function(a){return a||(a={}),a.regexRemove||(a.regexRemove=!1),a.inputs||(a.inputs=[]),0==a.inputs.length?e(this):a.first_maxlength||(a.first_maxlength=e(this).attr("maxlength"),a.first_maxlength)?(e(this).on("paste",function(){e(this).removeAttr("maxlength"),e(this).one("input.fromPaste",function(){var r=e(this),t=e(this).val();a.regexRemove&&(t=t.replace(a.regexRemove,""));var s=t;e(a.inputs).each(function(){var t,n=s.split("");void 0==(t=r.get(0)==this?a.first_maxlength:e(this).attr("maxlength"))&&(t=n.length),e(this).val("");for(var i="",o=0;o<t;++o)void 0!==n[o]&&(i+=n[o]);e(this).val(i),s=s.substring(t)}),e(this).attr("maxlength",a.first_maxlength)})}),e(this)):e(this)}}(jQuery);